include(AddModule)

add_module(
    MODULE_NAME crud 
    HEADERS
        TimeProvider.h
        UserService.h
        UserTokenGenerator.h 
        client/CrudClient.h
        client/HttpCrudClient.h 
        client/HttpCrudPath.h 
        client/key_value/KeyValueCrudClient.h 
        events/CrudEvent.h 
        events/EventFeed.h 
        events/EventSink.h
        requests/BaseCrudRequest.h
        requests/CrudRequest.h 
        requests/CrudResponse.h 
        requests/CrudQuery.h
        requests/CrudAttributes.h
        requests/CrudIdentifier.h
        requests/TypedCrudRequest.h 
        service/CrudServiceBackend.h 
        service/CrudService.h
        service/CrudServiceWithUser.h
        service/CrudServiceFactory.h
    SOURCES
        TimeProvider.cc
        UserService.cc
        UserTokenGenerator.cc
        client/CrudClient.cc
        client/HttpCrudClient.cc 
        client/HttpCrudPath.cc
        client/key_value/KeyValueCrudClient.cc
        client/key_value/KeyValueFieldContext.cc
        client/key_value/KeyValueCreateContext.cc
        client/key_value/KeyValueReadContext.cc
        client/key_value/KeyValueRemoveContext.cc
        client/key_value/KeyValueUpdateContext.cc
        events/CrudEvent.cc 
        events/EventFeed.cc
        events/EventSink.cc
        requests/BaseCrudRequest.cc
        requests/CrudQuery.cc
        requests/CrudIdentifier.cc
        requests/CrudIdentifierCollection.cc
        requests/CrudAttributes.cc
        requests/CrudRequest.cc 
        requests/CrudResponse.cc 
        requests/CrudSerializer.cc 
        requests/TypedCrudRequest.h 
        service/CrudService.cc
        service/CrudServiceWithUser.cc
    INTERNAL_INCLUDE_DIRS 
        client
        client/key_value
        events
        requests
        service
    INTERNAL_DEPENDENCIES 
        storage
        http_client
        models
)